<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">
<link rel="import" href="personne_add.html">
<link rel="import" href="personne_edit.html">
<link rel="import" href="../contact/contact_table.html">
<title>personne table</title>
</head>

<body>

  <element name="personne-table" extends="span"> 
    <template> 
      <div template if="showPersonneAdd">
        <personne-add personnes="{{ personnes }}"> </personne-add>
      </div>
      <div template if="showPersonneEdit">
        <personne-edit personnes="{{ personnes }}" personne="{{ personne }}">
        </personne-edit>
      </div>
      <table>
        <caption class="marker">
          Personnes
          <button id="addPersonneButton" on-click="add()">Show Add</button>
        </caption>
        <tr>
          <th>Name</th>
          <th>Pr√©nom</th>
          <th>Modifier</th>
          <th>Supprimer</th>
          <th>Contacts</th>
        </tr>
        <tbody template repeat="personne in personnes.internalList">
          <tr>
            <td>{{ personne.nom }}</td>
            <td>{{ personne.prenom }}</td>
            <td><button on-click="edit(personne)">Modifier</button></td>
            <td><button on-click="delete(personne)">Supprimer</button></td>
            <td><button id="{{ personne.code }}"
                on-click="showContacts(personne)">Show</button></td>
          </tr>
        </tbody>
      </table>
      <br />
      <div template if="showPersonneContacts">
        <contact-table id="contact-table" personne="{{ personne }}"
          contacts="{{ personne.contacts }}"> </contact-table>
      </div>
    </template> 
    <script type="application/dart" src="personne_table.dart"></script> 
  </element>
</body>
</html>
