<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">
<!-- <link rel="import" href="personne_add.html">
<link rel="import" href="personne_edit.html">
<link rel="import" href="../contact/contact_table.html"> -->
<title>personne table</title>
</head>

<body>

  <element name="personne-table" extends="span"> 
    <template> 
  <!-- Personne    -->
  
     <!-- Début: Formulaire pour ajouter une personne -->
        <div id="showPersonneAdd">
          <label for="add-personne-nom">Nom:</label> 
          <input
            id="add-personne-nom" type="text" size="32" /> 
            <br /> 
            <label for="add-personne-prenom">Prenom:</label>
           <input id="add-personne-prenom" type="text" size="96" /> 
           <br />
          <button on-click="AddPersonne()">Add</button>
          <span id="add-personne-message"></span>
        </div>
      <!--Fin -->
      
       <!-- Début: Formulaire pour éditer une personne -->       
        <div template if="showPersonneEdit">
          <div>
          <br/>
          <label for="edit-personne-name" >Name</label>
          <input id= "edit-personne-name" readonly="true" value=""/>
          <br/>
          <label for="edit-personne-prenom">Prénom</label>
          <input id="edit-personne-prenom"
            type="text" size="96" value=""
          />
          <br/>
          <button on-click="update()">Update</button>
        </div>
        </div>         
       <!--Fin -->
       
      <!-- Début:Table qui affiche une personne -->
      <table>
        <caption class="marker">
          Personnes
          <button id="addPersonneButton" on-click="addPersonneTable()">Show Add</button>
        </caption>
        <tr>
          <th>Name</th>
          <th>Prénom</th>
          <th>Modifier</th>
          <th>Supprimer</th>
          <th>Contacts</th>
        </tr>
        <tbody template repeat="personne in personnes.internalList">
          <!-- <tr>
            <td> { personne.nom }</td>
            <td> { personne.prenom }</td>
            <td><button on-click="edit(personne)">Modifier</button></td>
            <td><button on-click="delete(personne)">Supprimer</button></td>
            <td><button id="${ personne.code}"
                on-click="showContacts(personne)">Show</button></td>
          </tr> -->
        </tbody>
      </table>
      <br />     
      <!--Fin table personne -->  
          
  <!--  Fin personne -->
  
   <!-- Contact    -->   
      
      <div id="showPersonneContacts">
       
       <!-- Ajouter un contact    --> 
        <div id="showContactAdd">        
          <span class="marker">Contact de {{ personne.code }} </span>
          <br/>
          <label for="add-contact-code">email</label>
          <input id="add-contac-code" type="text" size="32"/>
          <br/>
          <label for="add-contac-telephone">telephone</label>
          <input id="add-contac-telephone" type="text" size="96"/>
          <br/>
          <button on-click="addContact()">Add</button>
          <span id="add-contact-message"></span>             
        </div>
      <!-- Fin    -->   
       
        <div id="showContactEdit">
          <contact-edit
            personne="${ personne }"
            contacts="${ contacts }"
            contact="${ contact }">
          </contact-edit>
        </div>
        
        
        <table>
          <caption class="marker">
            contacts de ${ personne.code }
            <button id="addContactButton" on-click="add()">Show Add</button>
          </caption>
          <tr>
            <th>Email</th>
            <th>Telephone</th>
            <th>Edit</th>
            <th>Remove</th>
          </tr>
          <tbody template iterate="contact in contacts.internalList">
            <tr>
              <td> ${ contact.email } </td>
              <td>${ contact.telephone }</td>
              <td><button id="editContactButton" on-click="edit(contact)">
                Edit</button>
              </td>
              <td><button on-click="delete(contact)">Remove</button></td>
            </tr>
          </tbody>
        </table>
      </div>      
   <!-- Concat    --> 
     
    </template> 
    <script type="application/dart" src="personne_table.dart"></script> 
  </element>
  <script src="packages/browser/dart.js"></script>
</body>
</html>
